### This files should be copied to .env.local as a starting point for local overrides to what is in .env

### REQUIRED CONFIGS ###

## Always set this to a unique string representing your local environment in the parameter store (ex. johndoe)
PSTORE_ENV=

## Jolli Authentication via Github (you can find these values in the `/dev/oauth` parameter in the parameter store)
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
## Jolli Authentication via Google (you can find these values in the `/dev/oauth` parameter in the parameter store)
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

### OPTIONAL CONFIGS ###

### Uncomment to change the algorithm used to sign the JWT created for the Jolli Auth Token
### (will default to HS256 if not overridden)
#TOKEN_ALGORITHM=HS256

### Uncomment to change how long until the Jolli Auth Token expires
### Possible values are defined by the `StringValue` type in the ms library
### (see https://github.com/vercel/ms/blob/main/src/index.ts)
### Default to 34 days if not set.
#TOKEN_EXPIRES_IN=34d

### Override this to use a different origin for the jolli ui frontend
#ORIGIN=http://localhost:8034

### Override this to use a different AWS Region for local site
#AWS_REGION=us-west-2

### Comment this in to add the "Dev Tools" tab to the UI, which as various tools to help you with development in
### A local or deployed dev environment
#USE_DEVELOPER_TOOLS=true

### You can un-comment this and set it to a unique name for the github app you want to create
### using the "Create a GitHub App" form on the Dev Tools screen.
### There is a reasonable default (`jolli-${process.env.PSTORE_ENV}`) that will be used for the GitHub App Name
### created via this form, so you probably won't need to override this.
#DEV_TOOLS_GITHUB_APP_NAME=

###Comment this in to add a smee.io URL for github webhook testing
### Visit https://smee.io and click "Start a new channel" and add the URL here
#SMEE_API_URL=

### Comment this in to add predefined GitHub App information in JSON format.
### Recommend you instead add to a parameter in the AWS Parameter Store named /jolli/backend/${PSTORE_ENV}/github/apps/info
### (replace ${PSTORE_ENV} with the value you set above for PSTORE_ENV)
### You can use a form the "Dev Tools" tab to create a unqiue Github App to use for your local dev environment
### It will put the smee.io URL you have set in the SMEE_API_URL config as the webhook URL for your app when creating the app
### Then after the app is created it should redirect you back to the "Dev Tools" page and
### you should see a JSON string in a textarea you can copy and paste here or (ideally) in the parameter store parameter mentioned above
###
#GITHUB_APPS_INFO=

### Needed to hook jolli up to Anthropic LLM
#ANTHROPIC_API_KEY=

### Needed to have jolli use E2B sandboxes:
#E2B_API_KEY=
#E2B_TEMPLATE_ID=

### Needed to publish to Vercel
#VERCEL_TOKEN=

### MULTI-TENANT LOCAL DEVELOPMENT ###
### See DEVELOPERS.md "Multi-Tenant Local Development" section for full setup guide

### Enable multi-tenant mode
#MULTI_TENANT_ENABLED=true

### Enable gateway mode (required for nginx gateway)
### - Enables dynamic CORS validation for subdomains
### - Enables HTTPS mode without port in URLs
#USE_GATEWAY=true

### Enable multi-tenant auth (required for OAuth with nginx gateway)
### - Routes OAuth through auth.{BASE_DOMAIN}
### - Enables dynamic OAuth redirect_uri
#USE_MULTI_TENANT_AUTH=true

### Show tenant switcher in DevTools (optional)
#USE_TENANT_SWITCHER=true

### Registry database URL (stores tenant metadata)
### Format: postgres://user:password@host:port/database
### Note: URL-encode special characters in password (e.g., @ becomes %40, , becomes %2C)
#MULTI_TENANT_REGISTRY_URL=postgres://postgres:yourpassword@localhost:5432/jolli_registry

### Base domain for tenant subdomains
#BASE_DOMAIN=jolli-local.me

### Encryption key for tenant database passwords
### Must match the manager app's ENCRYPTION_KEY (copy from manager's .env or deployed config)
### If setting up fresh, generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
### Then use the same key in both manager (ENCRYPTION_KEY) and backend (DB_PASSWORD_ENCRYPTION_KEY)
#DB_PASSWORD_ENCRYPTION_KEY=

### Auth gateway origin for OAuth flows in multi-tenant mode
#AUTH_GATEWAY_ORIGIN=https://auth.jolli-local.me

### Auth code encryption key (generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))")
#AUTH_CODE_ENCRYPTION_KEY=

### Auth code signing key (generate with: openssl rand -hex 32)
#AUTH_CODE_SIGNING_KEY=

### Default ORIGIN (fallback when tenant resolution fails)
### In multi-tenant mode, the actual origin is derived from X-Forwarded-Host header
#ORIGIN=https://jolli-local.me

### Audit trail configuration
### Whether audit event logging is enabled (defaults to true)
#AUDIT_ENABLED=true
### Encryption key for PII in audit logs (32-byte key for AES-256-GCM, base64 encoded)
### Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
### When set, PII fields (emails, IPs, names) are encrypted before storage
#AUDIT_PII_ENCRYPTION_KEY=
### Number of days to retain audit logs (default: 365 days)
#AUDIT_RETENTION_DAYS=365

### ARTICLE IMAGE UPLOAD FEATURE ###
### See DEVELOPERS.md "Article Image Upload Setup" section for full setup guide

### Environment suffix for S3 bucket naming (e.g., "prod", "dev", "local")
### Bucket name format: jolli-images-{IMAGE_S3_ENV}
### Default: "local"
#IMAGE_S3_ENV=local

### Region for S3 image buckets (defaults to AWS_REGION if not set)
#IMAGE_S3_REGION=us-west-2

### Signed URL expiry time in seconds (default: 900 = 15 minutes)
#IMAGE_SIGNED_URL_EXPIRY_SECONDS=900

### Maximum image file size in bytes (default: 10485760 = 10MB)
#IMAGE_MAX_SIZE_BYTES=10485760

### SITES FEATURE ###
### See DEVELOPERS.md "GitHub Token Setup for Sites Feature" and "Custom Domains for Sites" sections

### GitHub Personal Access Token (PAT) - For Local Development
### Create at: https://github.com/settings/tokens/new
### Required scopes: repo, delete_repo, admin:org (if creating repos in organizations)
### This token is used to create, upload files to, and delete GitHub repositories
#GITHUB_TOKEN=

### GitHub Organization Name - Where site repositories will be created (prod only)
### Default: "Jolli-Sites"
#GITHUB_ORG=

### GitHub Organization for non-prod site deployments (local, dev, preview)
### Default: "Jolli-Sample-Repos"
#GITHUB_ORG_NONPROD=Jolli-Sample-Repos

### Site deployment environment (local, dev, preview, prod)
### Used to prefix Vercel project names and GitHub repo names for non-prod
### See DEVELOPERS.md "Environment-Specific Site Deployments" for details
### Default: "prod"
#SITE_ENV=local

### Base domain for jolli.site subdomains
### Default: "jolli.site" (production), use "local.jolli.site" for local development
#JOLLI_SITE_DOMAIN=local.jolli.site

### Whether jolli.site subdomain feature is enabled
### Default: false
#JOLLI_SITE_ENABLED=true

### Vercel team ID for domain API calls (optional, for team accounts)
### Get this from your Vercel team settings URL: vercel.com/teams/{team-slug}/settings
### Only needed if you're deploying to a Vercel team account
#VERCEL_TEAM_ID=team_xxxxx
